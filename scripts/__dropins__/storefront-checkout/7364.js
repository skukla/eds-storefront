export const id=7364;export const ids=[7364];export const modules={7364:(e,n,t)=>{t.d(n,{u:()=>q});var r=t(9496),o=t(4628),i=t(2216),l=t(1704),a=t(7912),c=t(2460),s=t(8412),u=e=>{var{value:n,error:t,hint:r,onChange:o,onBlur:i,onInvalid:u}=e,m=(0,c.cF)({LoginFormLabel:"Checkout.LoginForm.ariaLabel",LoginFormFloatingLabel:"Checkout.LoginForm.floatingLabel",LoginFormPlaceholder:"Checkout.LoginForm.placeholder"});return(0,s.im)(l.I,{size:"medium",error:t,hint:r,children:(0,s.im)(a.E,{id:"customer-email",name:"customer-email",type:"email",value:n,autocomplete:"email",placeholder:m.LoginFormPlaceholder,floatingLabel:m.LoginFormFloatingLabel,onChange:o,onBlur:i,onInvalid:u,required:!0,"aria-label":m.LoginFormLabel,"aria-required":!0})})},m=e=>{var{onSignOutClick:n}=e;return(0,s.YH)("p",{className:"checkout-login-form__sign-out",children:[(0,s.im)(c.a,{id:"Checkout.LoginForm.switch"}),(0,s.im)("a",{className:"checkout-login-form__link",href:"#",target:"_blank",rel:"noreferrer",onClick:e=>{e.preventDefault(),null==n||n()},children:(0,s.im)(c.a,{id:"Checkout.LoginForm.signOut"})})]})},d=e=>{var{onSignInClick:n,email:t}=e;return(0,s.YH)("div",{className:"checkout-login-form__sign-in",children:[(0,s.im)(c.a,{id:"Checkout.LoginForm.account"}),(0,s.im)("a",{"data-testid":"sign-in-link",className:"checkout-login-form__link",href:"#",target:"_blank",rel:"noreferrer",onClick:e=>{e.preventDefault(),null==n||n(t)},children:(0,s.im)(c.a,{id:"Checkout.LoginForm.signIn"})})]})},g=t(5536),f=t.n(g),p=t(7008),h=t.n(p),v=t(1496),y=t.n(v),b=t(9356),k=t.n(b),O=t(9904),E=t.n(O),_=t(6004),S={attributes:{"data-dropin":"storefront-checkout","data-sdk":"0.22.0"},styleTagTransform:function(e,n){window._loadedStyles=window._loadedStyles??{};const t=e?.match(/^\.dropin-(\w+)/)?.[1],r=n.getAttribute("data-sdk"),o=t?`sdk/${t}`:n.getAttribute("data-dropin");n.setAttribute("data-dropin",o),n.removeAttribute("data-sdk");const i=window._loadedStyles[o];if(i){const o=function(e,n){const[t,r]=e.split("-"),[o,i]=n.split("-"),l=[...t.split("."),r],a=[...o.split("."),i],c=parseInt(l[0],10),s=parseInt(a[0],10);if(c!==s)return c>s?e:n;const u=parseInt(l[1],10),m=parseInt(a[1],10);if(u!==m)return u>m?e:n;const d=parseInt(l[2],10),g=parseInt(a[2],10);if(d!==g)return d>g?e:n;if(l[3]&&a[3]){const t=/(alpha|beta)(.*)/,r=l[3].match(t),o=a[3].match(t),i=r[1],c=o[1],s=parseInt(r[2],10),u=parseInt(o[2],10);if(i===c)return s>u?e:n;if("alpha"===i&&"beta"===c)return n;if("beta"===i&&"alpha"===c)return e}return l[3]?n:e}(r,i.sdk);if(!t||t&&o===i.sdk){const n=i.style.textContent;i.style.textContent=`${n}\n/* --- MERGED --- */\n${e}`}else t&&o!==i.sdk&&(i.style.textContent=`/* --- UPGRADED --- */\n${e}`);return void n.remove()}n.textContent=e,window._loadedStyles[o]={sdk:r,core:t,style:n};const l=document.querySelector("head"),{lastDropinStyleInjected:a,lastSDKStyleInjected:c}=window._loadedStyles;t?(c?l.insertBefore(n,c.nextSibling):l.insertBefore(n,l.firstChild),window._loadedStyles.lastSDKStyleInjected=n):(a?l.insertBefore(n,a.nextSibling):c?l.insertBefore(n,c.nextSibling):l.insertBefore(n,l.firstChild),window._loadedStyles.lastDropinStyleInjected=n)}};S.setAttributes=k(),S.insert=y().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=E();f()(_.c,S);_.c&&_.c.locals&&_.c.locals;var C=t(4944),w=["name","className","currentEmail","hint","error","onEmailChange","onEmailBlur","onEmailInvalid","onSignInClick","onSignOutClick","isAuthenticated","customer"];function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){I(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function I(e,n,t){var r;return(n="symbol"==typeof(r=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"))?r:String(r))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var x=e=>{var{name:n,className:t,currentEmail:r,hint:o,error:l=null,onEmailChange:a,onEmailBlur:g,onEmailInvalid:f,onSignInClick:p,onSignOutClick:h,isAuthenticated:v,customer:y}=e,b=L(e,w),k=(0,c.cF)({Title:"Checkout.LoginForm.title"});return(0,s.YH)("div",F(F({},b),{},{className:(0,C.i)(["checkout-login-form",t]),"data-testid":"checkout-login-form",children:[(0,s.YH)("div",{className:"checkout-login-form__heading",children:[(0,s.im)(i._,{level:2,className:"checkout-login-form__title",children:k.Title}),v?(0,s.im)(m,{onSignOutClick:h}):(0,s.im)(d,{onSignInClick:p,email:r})]}),y?(0,s.YH)("div",{className:"checkout-login-form__customer-details",children:[(0,s.im)("div",{className:"checkout-login-form__customer-name",children:"".concat(null==y?void 0:y.firstName," ").concat(null==y?void 0:y.lastName)}),(0,s.im)("div",{className:"checkout-login-form__customer-email",children:null==y?void 0:y.email})]}):(0,s.im)("div",{className:"checkout-login-form__content",children:(0,s.YH)("form",{className:(0,C.i)(["dropin-login-form__form",t]),name:n,noValidate:!0,children:[(0,s.im)("button",{type:"submit",disabled:!0,style:"display: none","aria-hidden":"true"}),(0,s.im)(u,{value:r||void 0,error:l||"",hint:o,onChange:a,onBlur:g,onInvalid:f})]})})]}))},P=t(8596),N=t(2248),D=t(5668),A=t(964),B=t(5628),T=t(6892),H=["className","email","onSignInClick","onSignOutClick"];function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function M(e,n,t){var r;return(n="symbol"==typeof(r=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"))?r:String(r))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var q=e=>{var{className:n,email:t=null,onSignInClick:i,onSignOutClick:l}=e,a=$(e,H),u=(0,c.cF)({LoginFormInvalidEmailError:"Checkout.LoginForm.invalidEmailError",LoginFormMissingEmailError:"Checkout.LoginForm.missingEmailError",LoginFormEmailExistsAlreadyHaveAccount:"Checkout.LoginForm.emailExists.alreadyHaveAccount",LoginFormEmailExistsSignInButton:"Checkout.LoginForm.emailExists.signInButton",LoginFormEmailExistsForFasterCheckout:"Checkout.LoginForm.emailExists.forFasterCheckout"}),{data:m}=D.cartSignal.value,d=(null==m?void 0:m.id)||"",g=!!m,[f,p]=(0,P.oT)(!1),[h,v]=(0,P.oT)(t),[y,b]=(0,P.oT)(),[k,O]=(0,P.oT)(!0),E=e=>e.valid?null:e.valueMissing?u.LoginFormMissingEmailError:u.LoginFormInvalidEmailError,{customer:_}=(0,T.An)();!f&&g&&(p(!0),v((null==m?void 0:m.email)||t)),(0,P.YB)((()=>{if(h&&!y){var e=setTimeout((()=>{(0,r.s)(h).then((e=>{O(e),(null==m?void 0:m.email)!==h&&(0,o.S)({cartId:d,email:h}).catch((e=>{console.log("set email failed",e)}))})).catch((e=>{console.log(e),b(u.LoginFormInvalidEmailError),O(!0)}))}),1e3);return()=>{e&&clearTimeout(e)}}}),[h,y,u.LoginFormInvalidEmailError,null==m?void 0:m.email,d]);var S=k?"":(0,s.YH)(s.ae,{children:[u.LoginFormEmailExistsAlreadyHaveAccount," ",(0,s.im)("a",{href:"#",onClick:e=>{e.preventDefault(),null==i||i(h)},children:u.LoginFormEmailExistsSignInButton})," ",u.LoginFormEmailExistsForFasterCheckout]});return(0,s.im)(x,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){M(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({className:n,currentEmail:h,error:y,hint:S,name:N.i,onEmailBlur:e=>{var{validity:n}=e.target;b(E(n))},onEmailChange:e=>{var{value:n}=e.target;v(n),b(null),O(!0)},onEmailInvalid:e=>{var{validity:n}=e.target;b(E(n))},onSignInClick:e=>{var n=!!h&&(e=>B.m.email.test(e))(h);null==i||i(n?e:null)},onSignOutClick:l,isAuthenticated:Boolean(A.O.value),customer:_},a))}},2248:(e,n,t)=>{t.d(n,{i:()=>r});var r="login-form"},964:(e,n,t)=>{t.d(n,{O:()=>r});var r=(0,t(1520).OC)(null)},6004:(e,n,t)=>{t.d(n,{c:()=>a});var r=t(6008),o=t.n(r),i=t(2076),l=t.n(i)()(o());l.push([e.id,".checkout-login-form{\n  display:grid;\n}\n\n.checkout-login-form__heading{\n  display:grid;\n  grid-template-columns:repeat(2, 1fr [col-start]);\n  grid-auto-rows:max-content;\n}\n\n.checkout-login-form__content{\n  grid-auto-rows:max-content;\n}\n\n.checkout-login-form__customer-details{\n  display:grid;\n  grid-auto-flow:row;\n  gap:var(--spacing-xxsmall);\n}\n\n.checkout-login-form__customer-name{\n  font:var(--type-body-1-strong-font);\n  letter-spacing:var(--type-body-1-default-letter-spacing);\n}\n\n.checkout-login-form__customer-email{\n  font:var(--type-body-2-default-font);\n  letter-spacing:var(--type-body-2-default-letter-spacing);\n  color:var(--color-neutral-700);\n}\n\n.checkout-login-form__title{\n  grid-column-start:1;\n  color:var(--color-neutral-800);\n  font:var(--type-headline-2-default-font);\n  letter-spacing:var(--type-headline-2-default-letter-spacing);\n  margin-top:0;\n}\n\n.checkout-login-form__sign-in, .checkout-login-form__sign-out{\n  grid-column-start:2;\n  color:var(--color-neutral-800);\n  font:var(--type-body-2-default-font);\n  letter-spacing:var(--type-body-2-default-letter-spacing);\n  justify-self:flex-end;\n  margin-top:var(--spacing-xxsmall);\n}\n\na.checkout-login-form__link{\n  font:var(--type-body-2-strong-font);\n  margin-left:var(--spacing-xxsmall);\n}\n@media only screen and (min-width: 320px) and (max-width: 768px){\n  .checkout-login-form__heading{\n    grid-template-columns:repeat(1, 1fr [col-start]);\n    grid-template-rows:1fr;\n  }\n\n  .checkout-login-form__sign-in, .checkout-login-form__sign-out{\n    grid-column-start:1;\n    align-self:flex-start;\n    justify-self:flex-start;\n    margin-top:0;\n    margin-bottom:var(--spacing-medium);\n  }\n}\n",""]);const a=l}};