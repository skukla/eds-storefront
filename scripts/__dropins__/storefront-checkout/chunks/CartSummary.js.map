{"version":3,"file":"CartSummary.js","sources":["../../src/lib/redirect.ts","../../../ElsieSDK/packages/elsie/src/icons/WarningWithCircle.svg","../../../ElsieSDK/packages/elsie/src/components/CartItem/CartItemSkeleton.tsx","../../src/components/CartSummary/CartSummarySkeleton.tsx","../../src/components/CartSummary/MobileCartSummarySkeleton.tsx","../../src/components/CartSummary/CartSummary.tsx","../../src/components/CartSummaryItem/CartSummaryItem.tsx","../../src/containers/CartSummary/constants.ts","../../src/containers/CartSummary/CartSummary.tsx"],"sourcesContent":["export function redirect(location: string): void {\n  window.location.href = location;\n}\n","import * as React from \"react\";\nconst SvgWarningWithCircle = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M11.75 5.88423V4.75H12.25V5.88423L12.0485 13.0713H11.9515L11.75 5.88423ZM11.7994 18.25V16.9868H12.2253V18.25H11.7994Z\", stroke: \"currentColor\" }));\nexport default SvgWarningWithCircle;\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const CartItemSkeleton: FunctionComponent = () => {\n  return (\n    <div className=\"dropin-cart-item dropin-cart-item-skeleton\">\n      <Skeleton className=\"dropin-cart-item__skeleton dropin-cart-item__wrapper\">\n        <div className=\"dropin-cart-item__image\">\n          <SkeletonRow className=\"dropin-cart-item__skeleton__item\" />\n        </div>\n        <div className=\"dropin-cart-item__title\">\n          <SkeletonRow className=\"dropin-cart-item__skeleton__item\" />\n        </div>\n        <div className=\"dropin-cart-item__sku\">\n          <SkeletonRow className=\"dropin-cart-item__skeleton__item\" />\n        </div>\n        <div className=\"dropin-cart-item__price\">\n          <SkeletonRow className=\"dropin-cart-item__skeleton__item\" />\n        </div>\n        <div className=\"dropin-cart-item__quantity\">\n          <SkeletonRow className=\"dropin-cart-item__skeleton__item\" />\n        </div>\n        <div className=\"dropin-cart-item__total\">\n          <SkeletonRow className=\"dropin-cart-item__skeleton__item\" />\n        </div>\n      </Skeleton>\n    </div>\n  );\n};\n","import { CartItemSkeleton } from '@adobe/elsie/components/CartItem/CartItemSkeleton';\nimport { FunctionComponent } from 'preact';\nimport { Card, Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const CartSummarySkeleton: FunctionComponent = () => {\n  return (\n    <Card>\n      <Skeleton\n        data-testid=\"cart-summary-skeleton\"\n        className=\"checkout-cart-summary-skeleton\"\n        style={{ gridTemplateColumns: '1fr' }}\n      >\n        <SkeletonRow variant=\"heading\" fullWidth={true} size=\"medium\" />\n        <CartItemSkeleton />\n        <CartItemSkeleton />\n        <CartItemSkeleton />\n        <CartItemSkeleton />\n        <CartItemSkeleton />\n        <SkeletonRow size=\"medium\" fullWidth={true} />\n      </Skeleton>\n    </Card>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { Skeleton, SkeletonRow } from '@adobe/elsie/components';\n\nexport const MobileCartSummarySkeleton: FunctionComponent = () => {\n  return (\n    <Skeleton\n      data-testid=\"cart-summary-skeleton\"\n      className=\"checkout-mobile-cart-summary-skeleton\"\n      style={{ gridTemplateColumns: '1fr' }}\n    >\n      <SkeletonRow fullWidth={true} size=\"xlarge\" />\n    </Skeleton>\n  );\n};\n","import { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport '@/checkout/components/CartSummary/CartSummary.css';\nimport {\n  Accordion,\n  AccordionSection,\n  Card,\n  Divider,\n} from '@adobe/elsie/components';\nimport { Text, useText } from '@adobe/elsie/i18n';\nimport { CartSummaryItem, Heading } from '@/checkout/components';\nimport { CartSummarySkeleton } from '@/checkout/components/CartSummary/CartSummarySkeleton';\nimport { MobileCartSummarySkeleton } from '@/checkout/components/CartSummary/MobileCartSummarySkeleton';\nimport { useBreakpoint } from '@/checkout/hooks/useBreakpoint';\nimport { Item } from '@/checkout/data/models';\n\nexport type CartSummaryActionProps = {\n  type: 'view-more' | 'view-all';\n  onClick: () => void;\n};\n\nexport interface CartSummaryProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'action'> {\n  action?: VNode<CartSummaryActionProps>;\n  taxIncluded: boolean;\n  isLoading: boolean;\n  items: Item[];\n  routeCart?: () => string;\n  totalQuantity: number;\n}\n\nexport const CartSummaryAction: FunctionComponent<CartSummaryActionProps> = ({\n  type,\n  onClick,\n  children,\n}) => {\n  return (\n    <>\n      <Divider\n        className=\"checkout-cart-summary__divider-bottom\"\n        variant=\"primary\"\n      />\n      <button\n        data-testid={`action-${type}`}\n        className=\"checkout-cart-summary__action\"\n        onClick={onClick}\n      >\n        {children}\n      </button>\n    </>\n  );\n};\n\nconst Mobile: FunctionComponent<CartSummaryProps> = ({\n  title,\n  isLoading,\n  totalQuantity,\n  routeCart,\n  items,\n  taxIncluded,\n  action,\n}) => {\n  return (\n    <>\n      {isLoading ? (\n        <MobileCartSummarySkeleton />\n      ) : (\n        <Accordion actionIconPosition=\"left\">\n          <AccordionSection\n            title={`${title} (${totalQuantity})`}\n            secondaryText={\n              routeCart?.() && (\n                <a href={routeCart?.()} rel=\"noreferrer\">\n                  <Text id=\"Checkout.CartSummary.editCart\" />\n                </a>\n              )\n            }\n          >\n            {items?.map((item) => (\n              <CartSummaryItem\n                key={item?.uid}\n                item={item}\n                taxIncluded={taxIncluded}\n              />\n            ))}\n\n            {action}\n          </AccordionSection>\n        </Accordion>\n      )}\n    </>\n  );\n};\n\nconst Desktop: FunctionComponent<CartSummaryProps> = ({\n  title,\n  isLoading,\n  totalQuantity,\n  routeCart,\n  items,\n  action,\n  taxIncluded,\n}) => {\n  return (\n    <>\n      {isLoading ? (\n        <CartSummarySkeleton />\n      ) : (\n        <Card>\n          <div className=\"checkout-cart-summary__heading\">\n            <Heading level={2} className=\"checkout-cart-summary__title\">\n              {title} ({totalQuantity})\n            </Heading>\n\n            {routeCart?.() && (\n              <a\n                className=\"checkout-cart-summary__edit\"\n                href={routeCart?.()}\n                rel=\"noreferrer\"\n              >\n                <Text id=\"Checkout.CartSummary.editCart\" />\n              </a>\n            )}\n          </div>\n\n          <Divider\n            className=\"checkout-cart-summary__divider-top\"\n            variant=\"primary\"\n          />\n\n          <div className=\"checkout-cart-summary__items\">\n            {items?.map((item) => (\n              <CartSummaryItem\n                key={item?.uid}\n                item={item}\n                taxIncluded={taxIncluded}\n              />\n            ))}\n          </div>\n\n          {action}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport const CartSummary: FunctionComponent<CartSummaryProps> = ({\n  className,\n  ...props\n}) => {\n  const title = useText('Checkout.CartSummary.title').title;\n  const breakpoint = useBreakpoint();\n\n  return (\n    <div className={classes(['checkout-cart-summary', className])}>\n      {breakpoint === 'small' ? (\n        <Mobile title={title} {...props} />\n      ) : (\n        <Desktop title={title} {...props} />\n      )}\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport '@/checkout/components/CartSummaryItem/CartSummaryItem.css';\nimport { WarningWithCircle } from '@adobe/elsie/icons';\nimport { CartItem, Icon, Image, Price } from '@adobe/elsie/components';\nimport { Item, StockStatus } from '@/checkout/data/models';\nimport { useText, Text } from '@adobe/elsie/i18n';\n\nexport interface CartSummaryItemProps extends HTMLAttributes<HTMLDivElement> {\n  item: Item;\n  taxIncluded?: boolean;\n}\n\nexport const CartSummaryItem: FunctionComponent<CartSummaryItemProps> = ({\n  className,\n  item,\n  taxIncluded = false,\n}) => {\n  const translations = useText({\n    Sender: 'Checkout.CartSummary.GiftCard.sender',\n    Recipient: 'Checkout.CartSummary.GiftCard.recipient',\n    Message: 'Checkout.CartSummary.GiftCard.message',\n    Download: 'Checkout.CartSummary.Downloadable.download',\n    OutOfStockAlert: 'Checkout.OutOfStock.alert',\n    ...('links' in item && item.links\n      ? {\n          Files: (\n            <Text\n              id=\"Checkout.CartSummary.Downloadable.files\"\n              plural={item.links.length}\n              fields={{\n                count: item.links.length,\n              }}\n            />\n          ),\n        }\n      : {}),\n  });\n\n  // Taking advantage of using withText() to build the string literal for translations.Files\n  // https://github.com/synacor/preact-i18n/tree/2.3.1-preactx?tab=readme-ov-file#examples-4\n\n  let price = item.regularPrice;\n  let total = item.total;\n\n  if (taxIncluded) {\n    price = item.priceInclTax;\n    total = item.totalInclTax;\n  }\n\n  const configurations = {\n    ...('customizableOptions' in item ? item.customizableOptions : {}),\n    ...('configurableOptions' in item ? item.configurableOptions : {}),\n    ...('links' in item && item.links\n      ? { [translations.Files]: item.links.join(', ') }\n      : {}),\n    ...('senderName' in item && item.senderName\n      ? { [translations.Sender]: item.senderName }\n      : {}),\n    ...('recipientName' in item && item.recipientName\n      ? { [translations.Recipient]: item.recipientName }\n      : {}),\n    ...('senderEmail' in item &&\n    'senderName' in item &&\n    item.senderName &&\n    item.senderEmail\n      ? { [translations.Sender]: `${item.senderName} (${item.senderEmail})` }\n      : {}),\n    ...('recipientEmail' in item &&\n    'recipientName' in item &&\n    item.recipientName &&\n    item.recipientEmail\n      ? {\n          [translations.Recipient]: `${item.recipientName} (${item.recipientEmail})`,\n        }\n      : {}),\n    ...('message' in item && item.message && item.message != ''\n      ? { [translations.Message]: truncateMessage(item.message as string, 60) }\n      : {}),\n  };\n\n  function truncateMessage(message: string, limit: number) {\n    if (message.length > limit) {\n      return `${message.slice(0, limit)}...`;\n    }\n    return message;\n  }\n\n  const alert =\n    item.stockStatus === StockStatus.OutOfStock ? (\n      <span data-testid=\"checkout-cart-item-alert\">\n        <Icon source={WarningWithCircle} size=\"16\" />\n        {translations.OutOfStockAlert}\n      </span>\n    ) : undefined;\n\n  const lowInventory =\n    !alert && item.onlyXLeftInStock ? (\n      <span data-testid=\"checkout-cart-item-low-inventory\">\n        <Icon source={WarningWithCircle} size=\"16\" />\n        <Text\n          id=\"Checkout.OutOfStock.lowInventory\"\n          plural={item.onlyXLeftInStock}\n          fields={{\n            count: item.onlyXLeftInStock,\n          }}\n        />\n      </span>\n    ) : undefined;\n\n  return (\n    <div className={classes(['checkout-cart-summary-item', className])}>\n      <CartItem\n        data-testid=\"cart-summary-item\"\n        key={item.uid}\n        taxIncluded={taxIncluded}\n        title={<div data-testid=\"product-name\">{item.name}</div>}\n        sku={<div>{item.sku}</div>}\n        quantity={item.quantity}\n        image={\n          <Image\n            src={item.image?.src ?? ''}\n            alt={item.image?.alt}\n            loading=\"lazy\"\n            width=\"80\"\n            height=\"80\"\n            params={{ width: 80 }}\n          />\n        }\n        warning={lowInventory}\n        alert={alert}\n        configurations={configurations}\n        price={\n          <Price\n            amount={item.regularPrice.value}\n            currency={price.currency}\n            weight=\"normal\"\n          />\n        }\n        total={\n          <>\n            <Price\n              amount={item.regularPrice.value * item.quantity}\n              currency={price.currency}\n              variant={item.discounted ? 'strikethrough' : 'default'}\n            />\n\n            {item.discounted && (\n              <Price amount={total.value} currency={total.currency} sale />\n            )}\n          </>\n        }\n      />\n    </div>\n  );\n};\n","export const DEFAULT_VISIBLE_ITEMS = 5;\n","import {\n  CartSummaryAction,\n  CartSummary as CartSummaryComponent,\n} from '@/checkout/components/CartSummary/CartSummary';\nimport { DEFAULT_VISIBLE_ITEMS } from '@/checkout/containers/CartSummary/constants';\nimport { useStore } from '@/checkout/context/store';\nimport { Item, PriceDisplay, TotalDisplay } from '@/checkout/data/models';\nimport { redirect } from '@/checkout/lib';\nimport { cartSignal } from '@/checkout/signals';\nimport { useText } from '@adobe/elsie/i18n';\nimport { Container } from '@adobe/elsie/lib';\nimport { HTMLAttributes, useCallback, useMemo, useState } from 'preact/compat';\n\nexport interface CartSummaryProps extends HTMLAttributes<HTMLDivElement> {\n  routeCart?: () => string;\n}\n\ntype CartSummaryState = {\n  canDisplayMoreItems: boolean;\n  hasHiddenItems: boolean;\n  isLoading: boolean;\n  isTaxIncluded: boolean;\n  totalQuantity: number;\n  visibleItems: Item[];\n};\n\nconst initialState: CartSummaryState = {\n  canDisplayMoreItems: false,\n  hasHiddenItems: false,\n  isLoading: true,\n  isTaxIncluded: false,\n  totalQuantity: 0,\n  visibleItems: [],\n};\n\nexport function useCartSummary(displayMaxItems: boolean): CartSummaryState {\n  const { config } = useStore();\n  const isLoadingStoreConfig = config === undefined;\n\n  const cartData = cartSignal.value.data;\n  const isLoadingCartData = cartData === undefined;\n\n  if (isLoadingStoreConfig || isLoadingCartData) return initialState;\n\n  const { cartSummaryMaxItems, cartSummaryTotalDisplay, taxCartDisplay } =\n    config;\n\n  const useQtys = cartSummaryTotalDisplay === TotalDisplay.Quantity;\n  const isTaxIncluded =\n    taxCartDisplay.shoppingCartDisplayPrice === PriceDisplay.IncludingTax;\n\n  const { items, totalQty } = cartData;\n  const totalQuantity = useQtys ? totalQty : items.length;\n\n  const numOfVisibleItems = displayMaxItems\n    ? cartSummaryMaxItems\n    : Math.min(cartSummaryMaxItems, DEFAULT_VISIBLE_ITEMS);\n\n  const hasHiddenItems = items.length > numOfVisibleItems;\n  const visibleItems = items.slice(0, numOfVisibleItems);\n\n  const canDisplayMoreItems =\n    hasHiddenItems &&\n    !displayMaxItems &&\n    numOfVisibleItems != cartSummaryMaxItems;\n\n  return {\n    canDisplayMoreItems,\n    hasHiddenItems,\n    isLoading: false,\n    isTaxIncluded,\n    totalQuantity,\n    visibleItems,\n  };\n}\n\nexport const CartSummary: Container<CartSummaryProps> = ({\n  routeCart,\n  ...props\n}) => {\n  const [displayMaxItems, setDisplayMaxItems] = useState<boolean>(false);\n\n  const translations = useText({\n    ViewAll: 'Checkout.CartSummary.viewAll',\n    ViewMore: 'Checkout.CartSummary.viewMore',\n  });\n\n  const {\n    canDisplayMoreItems,\n    hasHiddenItems,\n    isLoading,\n    isTaxIncluded,\n    visibleItems,\n    totalQuantity,\n  } = useCartSummary(displayMaxItems);\n\n  const viewMaxItems = useCallback(() => {\n    setDisplayMaxItems(true);\n  }, []);\n\n  const viewAllItems = useCallback(() => {\n    if (!routeCart) return;\n    redirect(routeCart());\n  }, [routeCart]);\n\n  const action = useMemo(() => {\n    if (!hasHiddenItems) return;\n\n    if (canDisplayMoreItems) {\n      return (\n        <CartSummaryAction type=\"view-more\" onClick={viewMaxItems}>\n          {translations.ViewMore}\n        </CartSummaryAction>\n      );\n    }\n\n    if (routeCart) {\n      return (\n        <CartSummaryAction type=\"view-all\" onClick={viewAllItems}>\n          {translations.ViewAll}\n        </CartSummaryAction>\n      );\n    }\n  }, [\n    hasHiddenItems,\n    canDisplayMoreItems,\n    viewMaxItems,\n    translations.ViewMore,\n    translations.ViewAll,\n    viewAllItems,\n    routeCart,\n  ]);\n\n  return (\n    <CartSummaryComponent\n      {...props}\n      action={action}\n      taxIncluded={isTaxIncluded}\n      isLoading={isLoading}\n      items={visibleItems}\n      routeCart={routeCart}\n      totalQuantity={totalQuantity}\n    />\n  );\n};\n"],"names":["redirect","location","window","href","SvgWarningWithCircle","props","React","CartItemSkeleton","_jsx","className","children","_jsxs","Skeleton","SkeletonRow","CartSummarySkeleton","Card","style","gridTemplateColumns","variant","fullWidth","size","MobileCartSummarySkeleton","CartSummaryAction","type","onClick","_Fragment","Divider","Mobile","title","isLoading","totalQuantity","routeCart","items","taxIncluded","action","Accordion","actionIconPosition","AccordionSection","secondaryText","rel","Text","id","map","item","CartSummaryItem","uid","Desktop","Heading","level","CartSummary","useText","breakpoint","useBreakpoint","classes","translations","Sender","Recipient","Message","Download","OutOfStockAlert","links","Files","plural","length","fields","count","price","regularPrice","total","priceInclTax","totalInclTax","configurations","customizableOptions","configurableOptions","join","senderName","recipientName","senderEmail","recipientEmail","message","truncateMessage","limit","slice","alert","stockStatus","StockStatus","OutOfStock","Icon","source","WarningWithCircle","undefined","lowInventory","onlyXLeftInStock","CartItem","name","sku","quantity","image","Image","src","alt","loading","width","height","params","warning","Price","amount","value","currency","weight","discounted","sale","DEFAULT_VISIBLE_ITEMS","initialState","canDisplayMoreItems","hasHiddenItems","isTaxIncluded","visibleItems","useCartSummary","displayMaxItems","config","useStore","isLoadingStoreConfig","cartData","cartSignal","data","cartSummaryMaxItems","cartSummaryTotalDisplay","taxCartDisplay","useQtys","TotalDisplay","Quantity","shoppingCartDisplayPrice","PriceDisplay","IncludingTax","totalQty","numOfVisibleItems","Math","min","setDisplayMaxItems","useState","ViewAll","ViewMore","viewMaxItems","useCallback","viewAllItems","useMemo","CartSummaryComponent"],"mappings":"mxBAAO,SAASA,EAASC,EAAwB,CAC/CC,OAAOD,SAASE,KAAOF,CACzB,CCDA,MAAMG,EAAwBC,GAA0BC,EAAM,cAAc,MAAO,CAAE,MAAO,GAAI,OAAQ,GAAI,QAAS,YAAa,KAAM,OAAQ,MAAO,6BAA8B,GAAGD,CAAK,EAAoBC,EAAM,cAAc,OAAQ,CAAE,aAAc,qBAAsB,EAAG,0JAA2J,OAAQ,cAAc,CAAE,EAAmBA,EAAM,cAAc,OAAQ,CAAE,aAAc,qBAAsB,EAAG,wHAAyH,OAAQ,cAAc,CAAE,CAAC,ECEtqBC,EAAsCA,IAE/CC,EAAA,MAAA,CAAKC,UAAU,6CAA4CC,SACzDC,EAACC,EAAQ,CAACH,UAAU,uDAAsDC,UACxEF,EAAA,MAAA,CAAKC,UAAU,0BAAyBC,SACtCF,EAACK,EAAW,CAACJ,UAAU,kCAAA,CAAoC,CAAA,CACxD,EACLD,EAAA,MAAA,CAAKC,UAAU,0BAAyBC,SACtCF,EAACK,EAAW,CAACJ,UAAU,kCAAA,CAAoC,CAAA,CACxD,EACLD,EAAA,MAAA,CAAKC,UAAU,wBAAuBC,SACpCF,EAACK,EAAW,CAACJ,UAAU,kCAAA,CAAoC,CAAA,CACxD,EACLD,EAAA,MAAA,CAAKC,UAAU,0BAAyBC,SACtCF,EAACK,EAAW,CAACJ,UAAU,kCAAA,CAAoC,CAAA,CACxD,EACLD,EAAA,MAAA,CAAKC,UAAU,6BAA4BC,SACzCF,EAACK,EAAW,CAACJ,UAAU,kCAAA,CAAoC,CAAA,CACxD,EACLD,EAAA,MAAA,CAAKC,UAAU,0BAAyBC,SACtCF,EAACK,EAAW,CAACJ,UAAU,kCAAA,CAAoC,CAAA,CACxD,CAAC,CAAA,CACE,CAAA,CACP,ECtBIK,EAAyCA,IAElDN,EAACO,EAAI,CAAAL,SACHC,EAACC,EAAQ,CACP,cAAY,wBACZH,UAAU,iCACVO,MAAO,CAAEC,oBAAqB,KAAM,EAAEP,SAAA,CAEtCF,EAACK,EAAW,CAACK,QAAQ,UAAUC,UAAW,GAAMC,KAAK,QAAA,CAAU,EAC/DZ,EAACD,EAAkB,EAAA,EACnBC,EAACD,EAAgB,CAAA,CAAE,EACnBC,EAACD,EAAkB,CAAA,CAAA,EACnBC,EAACD,IAAkB,EACnBC,EAACD,EAAkB,CAAA,CAAA,EACnBC,EAACK,EAAW,CAACO,KAAK,SAASD,UAAW,EAAA,CAAO,CAAC,CAAA,CACtC,CAAA,CACN,ECjBGE,EAA+CA,IAExDb,EAACI,EAAQ,CACP,cAAY,wBACZH,UAAU,wCACVO,MAAO,CAAEC,oBAAqB,KAAM,EAAEP,SAEtCF,EAACK,EAAW,CAACM,UAAW,GAAMC,KAAK,QAAA,CAAU,CAAA,CACrC,ECqBDE,EAA+DA,CAAC,CAC3EC,KAAAA,EACAC,QAAAA,EACAd,SAAAA,CACF,IAEIC,EAAAc,EAAA,CAAAf,SAAA,CACEF,EAACkB,EAAO,CACNjB,UAAU,wCACVS,QAAQ,SAAA,CACT,EACDV,EAAA,SAAA,CACE,cAAc,UAASe,CAAK,GAC5Bd,UAAU,gCACVe,QAAAA,EAAiBd,SAAAA,CAAAA,CAGX,CAAC,CAAA,CACT,EAIAiB,EAA8CA,CAAC,CACnDC,MAAAA,EACAC,UAAAA,EACAC,cAAAA,EACAC,UAAAA,EACAC,MAAAA,EACAC,YAAAA,EACAC,OAAAA,CACF,IAEI1B,EAAAiB,EAAA,CAAAf,SACGmB,EACCrB,EAACa,EAAyB,CAAA,CAAE,EAE5Bb,EAAC2B,EAAS,CAACC,mBAAmB,OAAM1B,SAClCC,EAAC0B,EAAgB,CACfT,MAAQ,GAAEA,CAAM,KAAIE,CAAc,IAClCQ,eACEP,GAAAA,YAAAA,MACEvB,EAAA,IAAA,CAAGL,KAAM4B,GAAAA,YAAAA,IAAeQ,IAAI,aAAY7B,SACtCF,EAACgC,EAAI,CAACC,GAAG,+BAAA,CAAiC,CAAA,CACzC,EAEN/B,SAAA,CAEAsB,GAAAA,YAAAA,EAAOU,IAAKC,GACXnC,EAACoC,EAAe,CAEdD,KAAAA,EACAV,YAAAA,CAFKU,EAAAA,GAAAA,YAAAA,EAAME,GAGZ,GAGFX,CAAM,CAAA,CACS,CAAA,CACT,CAAA,CAEb,EAIAY,EAA+CA,CAAC,CACpDlB,MAAAA,EACAC,UAAAA,EACAC,cAAAA,EACAC,UAAAA,EACAC,MAAAA,EACAE,OAAAA,EACAD,YAAAA,CACF,IAEIzB,EAAAiB,EAAA,CAAAf,SACGmB,EACCrB,EAACM,EAAmB,CAAA,CAAE,EAEtBH,EAACI,EAAI,CAAAL,UACHC,EAAA,MAAA,CAAKF,UAAU,iCAAgCC,SAAA,CAC7CC,EAACoC,EAAO,CAACC,MAAO,EAAGvC,UAAU,+BAA8BC,UACxDkB,EAAM,KAAGE,EAAc,GAC1B,CAAS,CAAA,GAERC,GAAAA,YAAAA,MACCvB,EAAA,IAAA,CACEC,UAAU,8BACVN,KAAM4B,GAAAA,YAAAA,IACNQ,IAAI,aAAY7B,SAEhBF,EAACgC,EAAI,CAACC,GAAG,+BAAA,CAAiC,CAAA,CACzC,CACJ,CAAA,CACE,EAELjC,EAACkB,EAAO,CACNjB,UAAU,qCACVS,QAAQ,SAAA,CACT,EAEDV,EAAA,MAAA,CAAKC,UAAU,+BAA8BC,SAC1CsB,GAAAA,YAAAA,EAAOU,IAAKC,GACXnC,EAACoC,EAAe,CAEdD,KAAAA,EACAV,YAAAA,CAAAA,EAFKU,GAAAA,YAAAA,EAAME,GAGZ,EAEA,CAAA,EAEJX,CAAM,CAAA,CACH,CAAA,CAER,EAIOe,EAAmDA,CAAC,CAC/DxC,UAAAA,EACA,GAAGJ,CACL,IAAM,CACEuB,MAAAA,EAAQsB,EAAQ,4BAA4B,EAAEtB,MAC9CuB,EAAaC,IAEnB,OACE5C,EAAA,MAAA,CAAKC,UAAW4C,EAAQ,CAAC,wBAAyB5C,CAAS,CAAC,EAAEC,SAC3DyC,IAAe,QACd3C,EAACmB,EAAM,CAACC,MAAAA,EAAa,GAAKvB,CAAAA,CAAQ,EAElCG,EAACsC,EAAO,CAAClB,MAAAA,EAAa,GAAKvB,CAAAA,CAAQ,CAAA,CAElC,CAET,ECtJauC,EAA2DA,CAAC,CACvEnC,UAAAA,EACAkC,KAAAA,EACAV,YAAAA,EAAc,EAChB,IAAM,SACJ,MAAMqB,EAAeJ,EAAQ,CAC3BK,OAAQ,uCACRC,UAAW,0CACXC,QAAS,wCACTC,SAAU,6CACVC,gBAAiB,4BACjB,GAAI,UAAWhB,GAAQA,EAAKiB,MACxB,CACEC,MACErD,EAACgC,EAAI,CACHC,GAAG,0CACHqB,OAAQnB,EAAKiB,MAAMG,OACnBC,OAAQ,CACNC,MAAOtB,EAAKiB,MAAMG,MACpB,CAAA,CACD,CAAA,EAGL,CAAC,CAAA,CACN,EAKD,IAAIG,EAAQvB,EAAKwB,aACbC,EAAQzB,EAAKyB,MAEbnC,IACFiC,EAAQvB,EAAK0B,aACbD,EAAQzB,EAAK2B,cAGf,MAAMC,EAAiB,CACrB,GAAI,wBAAyB5B,EAAOA,EAAK6B,oBAAsB,CAAC,EAChE,GAAI,wBAAyB7B,EAAOA,EAAK8B,oBAAsB,CAAC,EAChE,GAAI,UAAW9B,GAAQA,EAAKiB,MACxB,CAAE,CAACN,EAAaO,KAAK,EAAGlB,EAAKiB,MAAMc,KAAK,IAAI,CAAA,EAC5C,CAAC,EACL,GAAI,eAAgB/B,GAAQA,EAAKgC,WAC7B,CAAE,CAACrB,EAAaC,MAAM,EAAGZ,EAAKgC,UAAAA,EAC9B,CAAC,EACL,GAAI,kBAAmBhC,GAAQA,EAAKiC,cAChC,CAAE,CAACtB,EAAaE,SAAS,EAAGb,EAAKiC,aAAAA,EACjC,CAAC,EACL,GAAI,gBAAiBjC,GACrB,eAAgBA,GAChBA,EAAKgC,YACLhC,EAAKkC,YACD,CAAE,CAACvB,EAAaC,MAAM,EAAI,GAAEZ,EAAKgC,UAAW,KAAIhC,EAAKkC,WAAY,GAAA,EACjE,CAAC,EACL,GAAI,mBAAoBlC,GACxB,kBAAmBA,GACnBA,EAAKiC,eACLjC,EAAKmC,eACD,CACE,CAACxB,EAAaE,SAAS,EAAI,GAAEb,EAAKiC,aAAc,KAAIjC,EAAKmC,cAAe,GAAA,EAE1E,CAAC,EACL,GAAI,YAAanC,GAAQA,EAAKoC,SAAWpC,EAAKoC,SAAW,GACrD,CAAE,CAACzB,EAAaG,OAAO,EAAGuB,EAAgBrC,EAAKoC,QAAmB,EAAE,CAAA,EACpE,CAAC,CAAA,EAGEC,SAAAA,EAAgBD,EAAiBE,EAAe,CACnDF,OAAAA,EAAQhB,OAASkB,EACX,GAAEF,EAAQG,MAAM,EAAGD,CAAK,CAAE,MAE7BF,CACT,CAEA,MAAMI,EACJxC,EAAKyC,cAAgBC,EAAYC,WAC/B3E,EAAA,OAAA,CAAM,cAAY,2BAA0BD,SAAA,CAC1CF,EAAC+E,EAAI,CAACC,OAAQC,EAAmBrE,KAAK,IAAA,CAAM,EAC3CkC,EAAaK,eAAe,CAAA,CACzB,EACJ+B,OAEAC,EACJ,CAACR,GAASxC,EAAKiD,iBACbjF,EAAA,OAAA,CAAM,cAAY,mCAAkCD,SAAA,CAClDF,EAAC+E,EAAI,CAACC,OAAQC,EAAmBrE,KAAK,IAAA,CAAM,EAC5CZ,EAACgC,EAAI,CACHC,GAAG,mCACHqB,OAAQnB,EAAKiD,iBACb5B,OAAQ,CACNC,MAAOtB,EAAKiD,gBACd,CAAA,CACD,CAAC,CAAA,CACE,EACJF,OAEN,OACElF,EAAA,MAAA,CAAKC,UAAW4C,EAAQ,CAAC,6BAA8B5C,CAAS,CAAC,EAAEC,SACjEF,EAACqF,EAAQ,CACP,cAAY,oBAEZ5D,YAAAA,EACAL,MAAOpB,EAAA,MAAA,CAAK,cAAY,eAAcE,SAAEiC,EAAKmD,IAAAA,CAAU,EACvDC,IAAKvF,EAAA,MAAA,CAAAE,SAAMiC,EAAKoD,GAAAA,CAAS,EACzBC,SAAUrD,EAAKqD,SACfC,MACEzF,EAAC0F,EAAK,CACJC,MAAKxD,EAAAA,EAAKsD,QAALtD,YAAAA,EAAYwD,MAAO,GACxBC,KAAKzD,EAAAA,EAAKsD,QAALtD,YAAAA,EAAYyD,IACjBC,QAAQ,OACRC,MAAM,KACNC,OAAO,KACPC,OAAQ,CAAEF,MAAO,EAAG,CAAA,CACrB,EAEHG,QAASd,EACTR,MAAAA,EACAZ,eAAAA,EACAL,MACE1D,EAACkG,EAAK,CACJC,OAAQhE,EAAKwB,aAAayC,MAC1BC,SAAU3C,EAAM2C,SAChBC,OAAO,QAAA,CACR,EAEH1C,MACEzD,EAAAc,EAAA,CAAAf,SAAA,CACEF,EAACkG,EAAK,CACJC,OAAQhE,EAAKwB,aAAayC,MAAQjE,EAAKqD,SACvCa,SAAU3C,EAAM2C,SAChB3F,QAASyB,EAAKoE,WAAa,gBAAkB,SAC9C,CAAA,EAEApE,EAAKoE,YACJvG,EAACkG,EAAK,CAACC,OAAQvC,EAAMwC,MAAOC,SAAUzC,EAAMyC,SAAUG,KAAI,EAAA,CAAE,CAC7D,CAAA,CACD,CAAA,EApCCrE,EAAKE,GAsCX,CAAA,CACE,CAET,EC5JaoE,EAAwB,EC0B/BC,GAAiC,CACrCC,oBAAqB,GACrBC,eAAgB,GAChBvF,UAAW,GACXwF,cAAe,GACfvF,cAAe,EACfwF,aAAc,CAAA,CAChB,EAEO,SAASC,GAAeC,EAA4C,CACnE,KAAA,CAAEC,OAAAA,GAAWC,EAAS,EACtBC,EAAuBF,IAAW/B,OAElCkC,EAAWC,EAAWjB,MAAMkB,KAGlC,GAAIH,GAFsBC,IAAalC,OAEewB,OAAAA,GAEhD,KAAA,CAAEa,oBAAAA,EAAqBC,wBAAAA,EAAyBC,eAAAA,CACpDR,EAAAA,EAEIS,EAAUF,IAA4BG,EAAaC,SACnDf,EACJY,EAAeI,2BAA6BC,EAAaC,aAErD,CAAEvG,MAAAA,EAAOwG,SAAAA,CAAaZ,EAAAA,EACtB9F,EAAgBoG,EAAUM,EAAWxG,EAAM+B,OAE3C0E,EAAoBjB,EACtBO,EACAW,KAAKC,IAAIZ,EAAqBd,CAAqB,EAEjDG,EAAiBpF,EAAM+B,OAAS0E,EAChCnB,EAAetF,EAAMkD,MAAM,EAAGuD,CAAiB,EAO9C,MAAA,CACLtB,oBALAC,GACA,CAACI,GACDiB,GAAqBV,EAIrBX,eAAAA,EACAvF,UAAW,GACXwF,cAAAA,EACAvF,cAAAA,EACAwF,aAAAA,CAAAA,CAEJ,CAEO,MAAMrE,GAA2CA,CAAC,CACvDlB,UAAAA,EACA,GAAG1B,CACL,IAAM,CACJ,KAAM,CAACmH,EAAiBoB,CAAkB,EAAIC,EAAkB,EAAK,EAE/DvF,EAAeJ,EAAQ,CAC3B4F,QAAS,+BACTC,SAAU,+BAAA,CACX,EAEK,CACJ5B,oBAAAA,EACAC,eAAAA,EACAvF,UAAAA,EACAwF,cAAAA,EACAC,aAAAA,EACAxF,cAAAA,CAAAA,EACEyF,GAAeC,CAAe,EAE5BwB,EAAeC,EAAY,IAAM,CACrCL,EAAmB,EAAI,CACzB,EAAG,CAAE,CAAA,EAECM,EAAeD,EAAY,IAAM,CAChClH,GACL/B,EAAS+B,GAAW,CAAA,EACnB,CAACA,CAAS,CAAC,EAERG,EAASiH,EAAQ,IAAM,CAC3B,GAAK/B,EAEL,IAAID,EACF,OACE3G,EAACc,EAAiB,CAACC,KAAK,YAAYC,QAASwH,EAAatI,SACvD4C,EAAayF,QAAAA,CACG,EAIvB,GAAIhH,EACF,OACEvB,EAACc,EAAiB,CAACC,KAAK,WAAWC,QAAS0H,EAAaxI,SACtD4C,EAAawF,OAAAA,CACG,EAGzB,EAAG,CACD1B,EACAD,EACA6B,EACA1F,EAAayF,SACbzF,EAAawF,QACbI,EACAnH,CAAS,CACV,EAED,OACEvB,EAAC4I,EAAoB,CAAA,GACf/I,EACJ6B,OAAAA,EACAD,YAAaoF,EACbxF,UAAAA,EACAG,MAAOsF,EACPvF,UAAAA,EACAD,cAAAA,CAAAA,CACD,CAEL"}