{"version":3,"file":"vcomponent.js","sources":["../../../ElsieSDK/packages/elsie/src/lib/classes.ts","../../../ElsieSDK/packages/elsie/src/lib/vcomponent.tsx"],"sourcesContent":["import { JSXInternal } from 'preact/src/jsx';\n\ntype ClassName = string | JSXInternal.SignalLike<string | undefined>;\n\nexport const classes = (\n  classes: Array<ClassName | [ClassName, boolean] | undefined>\n) => {\n  const result = classes.reduce((result, item) => {\n    if (!item) return result;\n\n    if (typeof item === 'string') result += ` ${item}`;\n\n    if (Array.isArray(item)) {\n      const [className, isActive] = item;\n      if (className && isActive) {\n        result += ` ${className}`;\n      }\n    }\n\n    return result;\n  }, '') as string;\n\n  return result.trim();\n};\n","/*\nADOBE CONFIDENTIAL\nCopyright 2023 Adobe\nAll Rights Reserved.\nNOTICE: All information contained herein is, and remains\nthe property of Adobe and its suppliers, if any. The intellectual\nand technical concepts contained herein are proprietary to Adobe\nand its suppliers and are protected by all applicable intellectual\nproperty laws, including trade secret and copyright laws.\nDissemination of this information or reproduction of this material\nis strictly forbidden unless prior written permission is obtained\nfrom Adobe.\n*/\n\nimport { VNode, ComponentChildren } from 'preact';\nimport { classes } from '.';\n\nexport type VComponentProps = {\n  node: VNode | VNode[];\n  children?: ComponentChildren;\n  [key: string]: any; // allow other unspecified props to be passed without any TS warning\n};\n\nexport function VComponent({ node, ...props }: VComponentProps) {\n  if (!node) return null;\n\n  if (Array.isArray(node)) {\n    return (\n      <>\n        {node.map((n, key) => (\n          <VComponent\n            key={key}\n            node={n}\n            className={props.className}\n            {...props}\n          />\n        ))}\n      </>\n    );\n  }\n\n  // @ts-ignore\n  props.className = classes([node.props.className, props.className]);\n\n  // @ts-ignore\n  return <node.type ref={node.ref} key={node.key} {...node.props} {...props} />;\n}\n"],"names":["classes","reduce","result","item","Array","isArray","className","isActive","trim","VComponent","node","props","_jsx","_Fragment","children","map","n","key","type","ref"],"mappings":"yEAIaA,MAAAA,EACXA,GAEeA,EAAQC,OAAO,CAACC,EAAQC,IAAS,CAC9C,GAAI,CAACA,EAAaD,OAAAA,EAIdE,GAFA,OAAOD,GAAS,WAAUD,GAAW,IAAGC,CAAK,IAE7CC,MAAMC,QAAQF,CAAI,EAAG,CACjB,KAAA,CAACG,EAAWC,CAAQ,EAAIJ,EAC1BG,GAAaC,IACfL,GAAW,IAAGI,CAAU,GAE5B,CAEOJ,OAAAA,GACN,EAAE,EAESM,OCCT,SAASC,EAAW,CAAEC,KAAAA,EAAM,GAAGC,CAAuB,EAAG,CAC9D,OAAKD,EAEDN,MAAMC,QAAQK,CAAI,EAElBE,EAAAC,EAAA,CAAAC,SACGJ,EAAKK,IAAI,CAACC,EAAGC,IACZL,EAACH,EAAU,CAETC,KAAMM,EACNV,UAAWK,EAAML,UAAU,GACvBK,CAAK,EAHJM,CAIN,CACF,CAAA,CACD,GAKAX,EAAAA,UAAYN,EAAQ,CAACU,EAAKC,MAAML,UAAWK,EAAML,SAAS,CAAC,EAG1DM,EAACF,EAAKQ,KAAI,CAACC,IAAKT,EAAKS,IAAI,GAAoBT,EAAKC,MAAK,GAAMA,CAAAA,EAA9BD,EAAKO,GAAiC,GArB1D,IAsBpB"}